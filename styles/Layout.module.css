


@property --angle {
  syntax: "<angle>";
  inherits: true;
  initial-value: 0deg;
}



/* portfolio */
.bkgdFlow {
  /* --angle: 10deg; */
}
/* resume */
.bkgdNoFlow {
  /* --angle: -10deg; */
}


.wrapper2 {
  --abs-angle: calc(max(var(--angle), 0deg) - min(var(--angle), 0deg));
  transition: --angle 1s;
}
.bkgdNoFlow.wrapper2 {
  /* crop background-wrapper's extra height at the bottom */
  overflow: hidden;
  position: absolute;
  inset: 0;
  min-height: 100vh;
  /* dev tools hover will prefer resume */
  z-index: -1;
}
.wrapper1 {
  display: flex;
  flex-direction: column;
}
.bkgdNoFlow .wrapper1 {
  position: absolute;
  inset: 0;
}

.block {
  /* i think this allows the z index to work */
  position: relative;
  
  /* default block height: hug contents or min-height */
  flex: 0 0;
  
  /* make screen is filled during page transition */
  min-height: 50vh;
}
.block:nth-child(odd) {
  z-index: -1;
}
.block:nth-child(even) {
  z-index: -2;
}

/* .bkgdNoFlow .block:nth-child(1) {
} */
.bkgdNoFlow .block:nth-child(2) {
  /* expand second block in resume page */
  flex: 1;
}


.background {
  transform: skewY(var(--angle));
  transform-origin: center top;
  
  /* always fill parent block; block determines height */
  position: absolute;
  inset: 0;
  
  /* go behind content (it seems DOM order doesn't matter because of
  position: absolute?) */
  z-index: -1;
  
  /* box-shadow: 0 3px 20px rgba(0, 0, 0, 0.5); */
  box-shadow: 0px 4px 40px -8px rgba(0, 0, 0, 0.65);
  
  background: var(--overlay) var(--backgroundColor);
  
  --very-light-overlay: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.5),
    rgba(255, 255, 255, 0.08)
  );
  --light-overlay: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.25),
    rgba(255, 255, 255, 0.08)
  );
  --dark-overlay: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.05),
    rgba(0, 0, 0, 0.35)
  );
}

.block:nth-child(odd) .background {
  --overlay: var(--light-overlay);
}
.block:nth-child(even) .background {
  --overlay: var(--dark-overlay);
}
.block:nth-child(1) .background {
  --backgroundColor: hsl(180, 40%, 76%);
  --overlay: var(--very-light-overlay);
  /* make background reach top of page even when skewed */
  top: calc(-50vw*tan(var(--abs-angle)));
}
.block:nth-child(2) .background {
  --backgroundColor: hsl(187, 33%, 66%);
}


.block:last-child .backgroundWrapper {
  /* This is for cutting off the last skewed background block at
  the bottom of the page while not cutting off the top of it */
  overflow: hidden;
  position: absolute;
  inset: 0;
  top: calc(-50vw*tan(var(--abs-angle)));
}
.block:last-child .background {
  /* to move this back down to the right position */
  /* EITHER */
  bottom: calc(-50vw*tan(var(--abs-angle)));
  top: calc(50vw*tan(var(--abs-angle)));
  /* OR */
  /* transform: translateY(calc(50vw*tan(13deg))) skewY(-13deg); */
  /* OR */
  /* margin-bottom: calc(-50vw*tan(13deg));
  margin-top: calc(50vw*tan(13deg)); */
}


/* ._3 {
  background:$light-overlay, hsl(260, 33%, 76%);
  height: 17%; // override
  z-index: -1;
}
._4 {
  background:$dark-overlay, hsl(267, 33%, 66%);
  z-index: -2;
}
._5 {
  background:$light-overlay, hsl(340, 40%, 76%);
  height: 17%; // override
  z-index: -1;
}
._6 {
  background:$dark-overlay, hsl(347, 33%, 66%);
  z-index: -2;
} */





/* nav */


.nav {
  position: fixed;
  top: 0;
  left: 0;
  
  font-family: 'Cabin', sans-serif;
  font-size: 28px;
  line-height: 1.0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.nav h1 {
  font-size: 42px;
}

.nav a {
  text-decoration: none;
  color: hsl(187, 100%, 30%);
  font-weight: bold;
  
  display: block;
  margin-block: 10px;
}

a.active {
  /* color: black; */
  text-decoration: underline;
}
a.inactive {
  color: black;
}

